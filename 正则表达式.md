## 正则表达式
* `+` 1个或多个
* `*` 0个或多个
* `?` 0个或一个
* `.` 除了`\n`之外的任何单字符
* `i` 忽略大小写
* `m` 视为多行
* `s` 视为单行
* `\d`一个数字 等价于`[0-9]`
* `\D`一个非数字字符 等价于`[^0-9]`
* `\w`一个字母、数字、下划线
* `\W`一个非字母、数字、下划线
* `()`匹配并且获取结果
	
	但是在PHP preg_match中，$match自动获取匹配。如果强行对整个匹配忽略，如`/^?:\d{1}$/`，会产生Warnings，函数执行错误，并返回Null。
	
	如果是这样 `/^(?:\d{1})$/` 则正常，并返回匹配。
* `?:pattern`非获取匹配，不进行存储供以后使用，也就是不能反向引用

		//以下代码表示使用反向引用
		$str = "April 15,2003";
		$pattern = '/(\w+)(\d+),(\d+)/i';
		$replacement = '${1}1,$3';
		echo preg_replace($pattern,$replacement,$str);

	${1}代表正则中匹配的第一个 `(\w+)` $2 $3  以此类推

	`${1}1,$3` 表示把 第*2*个匹配替换为 `1,`
* `?=` 正向肯定预查，非获取匹配。

	`Windows(?=95|98|NT|2000)`能匹配`Windows2000`中的`Windows`，但不能匹配`Windows3.1`中的`Windows`。
* `?!` 正向否定预查，非获取匹配。

	`Windows(?!95|98|NT|2000)`能匹配`Windows3.1`中的`Windows`，但不能匹配`Windows2000`的`Windows`。
		
### 手机号
	$pattern = '/^1[345678]\d{9}$/ims' 
`/^ $/` 分别表示匹配起点和终点

`[345]` 匹配3或4或5 类似的 `[0-9A-Za-z]`

`\d{9}` 匹配9个任意数字 等价于`[0-9]{9}`

### 身份证
	18位: xxxxxx yyyy MM dd 375 0
	地区 1800-2399 1-12 1-31 3位数字 数字或Xx 
	$pattern = '/^[1-9]\d{5}((18|19)|2[1-3])\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/'
	preg_mathc($pattern,$str,$matchs);

匹配返回的结果可以在正则中使用`()`输出到数组$matchs

### URL
	1.(https?|ftp|file)://
	2.[-a-zA-Z0-9+&@#/%?=~_|!:,.;]+
	3.[-A-Za-z0-9+&@#/%=~_|] 必须以这些字符结尾
	
`-`减号在`[]`里要放最前面，否则被认为是范围符
	

### 日期正则
	^((([0-9]{2})(0[48]|[2468][048]|[13579][26]))   #闰年，能被4整除但不能被100整除
	|((0[48]|[2468][048]|[13579][26])00)   #闰年，能被400整除
	-02-29)  #匹配闰年2月29日这一天。如果不是这一天，则由下面式子继续匹配验证。 
	(?:(?!0000)[0-9]{4}) #平年（0001-9999）
	-(((0[13578]|1[02])-(0[1-9]|[12][0-9]|3[01]))   #月日，1、3、5、7、8、10、12月有31天
	|((0[469]|11)-(0[1-9]|[12][0-9]|30))   #月日，4、6、9、11月有30天
	|(02-(0[1-9]|[1][0-9]|2[0-8])))   #平年2月只有28天，月日表示为【02-01至02-28】
### 车牌号
	/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-Z0-9]{4}[A-Z0-9挂学警港澳]{1}$/

### 包含中文
	$pattern = /[\u4E00-\u9FA5]/;
	
--------
## 实战例题
### 一、写个正则实现判断一个字符串是由数字和字母及减号组成,但减号不能出现在头尾。
	
	^[0-9a-zA-Z]+[-]+[0-9a-zA-Z]+$。❌
	只考虑了`a-b`形式，没有考虑到`a-b-c...-d`
	^[0-9a-zA-Z][0-9a-zA-Z-]*[0-9a-zA-Z]$ ✅
	

### 二、提取某段`<img>`标签中的`src`的值
首先匹配串由`<img` 开头， 由`/>`结束，其中`/`可以不加

其次`src=“...”`的位置可能在中间，开头或者结尾，中间插入任意其他标签 

可得：

	$pattern = '/^<img.*?(src=".*?").*?/?>$/'

这里说下贪婪模式：
#### 当使用`<img.*?/>`与`<img.*/>`匹配字符串时，得到的结果不都是相同的，前者由于`?`的限制，匹配到`<img alt="123"/>`就匹配成功，这叫非贪婪模式。然而贪婪模式则是尽可能多的匹配，如：`<img alt="123"/><img src="s"/>` 

<a>贪婪模式与非贪婪模式在匹配效率上各有优势，需要根据需求选择。


<font size=4>可以使用排除型字符组转换为贪婪模式，提高匹配效率</font></a>

	$pattern = '^<img.*?src=([^"]*)"[^>]*>'

<font size=3>*对于简单的源字符串，非贪婪模式效率高。对于数量较大的源字符串，或是复杂对正则，一般贪婪模式效率高。*</font>
	
	
	
	

